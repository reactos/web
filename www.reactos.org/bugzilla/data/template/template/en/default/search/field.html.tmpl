use utf8;

#------------------------------------------------------------------------
# Compiled template generated by the Template Toolkit version 2.22
#------------------------------------------------------------------------

Template::Document->new({
    METADATA => {
        'modtime' => '1297790525',
        'name' => 'search/field.html.tmpl',
    },
    BLOCK => sub {
        my $context = shift || die "template sub called without context\n";
        my $stash   = $context->stash;
        my $output  = '';
        my $_tt_error;
        
        eval { BLOCK: {
    $output .=  "\n";
    $output .=  "\n  ";
#line 142 "template\en\default\search\field.html.tmpl"
    
    # SWITCH
    do {
        my $_tt_result = $stash->get(['field', 0, 'type', 0]);
        my $_tt_match;
        SWITCH: {
    $_tt_match = [ '1', '4', '0' ];
    $_tt_match = [ $_tt_match ] unless ref $_tt_match eq 'ARRAY';
    if (grep(/^\Q$_tt_result\E$/, @$_tt_match)) {
#line 34 "template\en\default\search\field.html.tmpl"
    $output .=  $context->include('bug/field-label.html.tmpl', { 'field' => $stash->get('field'), 'tag_name' => 'span', 'editable' => 1 });
#line 39 "template\en\default\search\field.html.tmpl"
    $output .=  $context->include('search/type-select.html.tmpl', { 'name' => $stash->get(['field', 0, 'name', 0])  . '_type', 'types' => $stash->get('types'), 'selected' => $stash->get('type_selected') });
    $output .=  "    \n    <input name=\"";
#line 44 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\" \n           id=\"";
#line 45 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\" size=\"40\"";
#line 46 "template\en\default\search\field.html.tmpl"
    if ($stash->get('onchange')) {
    $output .=  " onchange=\"";
#line 46 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('onchange');
        
        &$_tt_filter($output);
    };
    
    $output .=  "\"";
    }
    
    $output .=  "\n           value=\"";
#line 47 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('value');
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">              ";
        last SWITCH;
    }
    $_tt_match = '8';
    $_tt_match = [ $_tt_match ] unless ref $_tt_match eq 'ARRAY';
    if (grep(/^\Q$_tt_result\E$/, @$_tt_match)) {
#line 49 "template\en\default\search\field.html.tmpl"
    $output .=  $context->include('bug/field-label.html.tmpl', { 'field' => $stash->get('field'), 'tag_name' => 'span', 'editable' => 1 });
#line 54 "template\en\default\search\field.html.tmpl"
    $output .=  $context->include('search/type-select.html.tmpl', { 'name' => $stash->get(['field', 0, 'name', 0])  . '_type', 'types' => $stash->get('types'), 'selected' => $stash->get('type_selected') });
    $output .=  "\n    <div id=\"keyword_container\">\n       <input name=\"";
#line 60 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\" \n              id=\"";
#line 61 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\" size=\"40\"";
#line 62 "template\en\default\search\field.html.tmpl"
    if ($stash->get('onchange')) {
    $output .=  " onchange=\"";
#line 62 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('onchange');
        
        &$_tt_filter($output);
    };
    
    $output .=  "\"";
    }
    
    $output .=  "\n              value=\"";
#line 63 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('value');
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">\n       <div id=\"keyword_autocomplete\"></div>\n    </div>\n    <script type=\"text/javascript\" defer=\"defer\">\n      YAHOO.bugzilla.keyword_array = [";
#line 70 "template\en\default\search\field.html.tmpl"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = $stash->get('all_keywords');
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    FOR1:   while (! $_tt_error) {
                $stash->{'keyword'} = $_tt_value;
    
    $output .=  "\"";
#line 69 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('js')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['keyword', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\"";
#line 70 "template\en\default\search\field.html.tmpl"
    if (! $stash->get(['loop', 0, 'last', 0])) {
    $output .=  ',';
    }
    ;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    $output .=  "];\n      YAHOO.bugzilla.keywordAutocomplete.init('";
#line 71 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('js')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "',\n                                              'keyword_autocomplete');\n    </script>";
        last SWITCH;
    }
    $_tt_match = '5';
    $_tt_match = [ $_tt_match ] unless ref $_tt_match eq 'ARRAY';
    if (grep(/^\Q$_tt_result\E$/, @$_tt_match)) {
#line 75 "template\en\default\search\field.html.tmpl"
    $output .=  $context->include('bug/field-label.html.tmpl', { 'field' => $stash->get('field'), 'tag_name' => 'span', 'editable' => 1 });
    $output .=  "\n    from <input name=\"";
#line 80 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "from\" \n                id=\"";
#line 81 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\" \n                size=\"10\" maxlength=\"10\"\n                value=\"";
#line 83 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['value', 0, 0, 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\" \n                onchange=\"updateCalendarFromField(this);";
#line 84 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('onchange');
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">\n         <button type=\"button\" class=\"calendar_button\"\n                        id=\"button_calendar_";
#line 86 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\"\n                        onclick=\"showCalendar('";
#line 87 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('js')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "')\">\n           <span>Calendar</span>\n         </button>\n         <span id=\"con_calendar_";
#line 90 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\"></span>               \n    to <input name=\"";
#line 91 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "to\" \n              id=\"";
#line 92 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "to\" size=\"10\" maxlength=\"10\"\n              value=\"";
#line 93 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['value', 0, 1, 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\" \n              onchange=\"updateCalendarFromField(this);";
#line 94 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('onchange');
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">\n       <button type=\"button\" class=\"calendar_button\"\n                      id=\"button_calendar_";
#line 96 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "to\"\n                      onclick=\"showCalendar('";
#line 97 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('js')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "to')\">\n         <span>Calendar</span>\n       </button>\n    <small>(YYYY-MM-DD or relative dates)</small>\n    \n    <span id=\"con_calendar_";
#line 102 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "to\"></span>\n    <script type=\"text/javascript\">\n      createCalendar('";
#line 104 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('js')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "');\n      createCalendar('";
#line 105 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('js')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "to');\n    </script>";
        last SWITCH;
    }
    $_tt_match = [ '2', '3' ];
    $_tt_match = [ $_tt_match ] unless ref $_tt_match eq 'ARRAY';
    if (grep(/^\Q$_tt_result\E$/, @$_tt_match)) {
    $output .=  "\n    <div id=\"container_";
#line 109 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\" class=\"search_field_grid\">      ";
#line 110 "template\en\default\search\field.html.tmpl"
    $output .=  $context->include('bug/field-label.html.tmpl', { 'field' => $stash->get('field'), 'editable' => 1, 'tag_name' => 'span' });
    $output .=  "\n      <select name=\"";
#line 115 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\" \n              id=\"";
#line 116 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\" ";
#line 117 "template\en\default\search\field.html.tmpl"
    if ($stash->get('onchange')) {
    $output .=  " onchange=\"";
#line 117 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('onchange');
        
        &$_tt_filter($output);
    };
    
    $output .=  "\"";
    }
    
    $output .=  "\n        multiple=\"multiple\" size=\"7\">";
#line 119 "template\en\default\search\field.html.tmpl"
    $stash->set('legal_values', $stash->get($stash->get(['field', 0, 'name', 0])));
    
#line 122 "template\en\default\search\field.html.tmpl"
    if ($stash->get(['field', 0, 'name', 0]) eq 'component') {
#line 121 "template\en\default\search\field.html.tmpl"
    $stash->set('legal_values', $stash->get('component_'));
    
    }
    
#line 139 "template\en\default\search\field.html.tmpl"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = $stash->get('legal_values');
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    FOR1:   while (! $_tt_error) {
                $stash->{'current_value'} = $_tt_value;
#line 138 "template\en\default\search\field.html.tmpl"
    if ($stash->get(['current_value', 0, 'id', 0])) {
    $output .=  "\n            ";
#line 128 "template\en\default\search\field.html.tmpl"
    $stash->set('v', $stash->get(['current_value', 0, 'name', 0]) || '---');
    
    $output .=  "            <option value=\"";
#line 129 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('v');
        
        &$_tt_filter($output);
    };
    
    $output .=  "\"";
#line 130 "template\en\default\search\field.html.tmpl"
    if ($stash->get(['value', 0, 'contains', [ $stash->get('v') ]])) {
    $output .=  ' selected="selected"';
    }
    
    $output .=  ">";
#line 131 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['display_value', [ $stash->get(['field', 0, 'name', 0]), $stash->get(['current_value', 0, 'name', 0]) ]]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\n            </option>";
    }
    else {
    $output .=  "\n            <option value=\"";
#line 134 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('current_value') || '---';
        
        &$_tt_filter($output);
    };
    
    $output .=  "\"";
#line 135 "template\en\default\search\field.html.tmpl"
    if ($stash->get(['value', 0, 'contains', [ $stash->get('current_value') ]])) {
    $output .=  ' selected="selected"';
    }
    
    $output .=  ">";
#line 136 "template\en\default\search\field.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['display_value', [ $stash->get(['field', 0, 'name', 0]), $stash->get('current_value') ]]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\n            </option>";
    }
    ;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    $output .=  "\n      </select>\n    </div>";
        last SWITCH;
    }
    
        }
    };
    
    $output .=  "\n";
        } };
        if ($@) {
            $_tt_error = $context->catch($@, \$output);
            die $_tt_error unless $_tt_error->type eq 'return';
        }
    
        return $output;
    },
    DEFBLOCKS => {

    },
});
